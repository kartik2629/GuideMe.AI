import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash-exp",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: 'Generate Travel Plan for Location: Les Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image URL, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON Format Below is the sample json object of tripData  format to extract the data from ai\n\n"\n"tripData":{\n    "contextualRecommendations": {\n        "activities": [\n            "Take a street food tour in Old Delhi.",\n            "Attend a Qawwali performance at Nizamuddin Dargah (evening).",\n            "Explore the Hauz Khas Village for its cafes and boutiques."\n        ],\n        "tips": [\n            "Always negotiate auto/taxi fares before starting the journey.",\n            "Be mindful of your belongings in crowded areas.",\n            "Stay hydrated and carry sunscreen.",\n            "Bargain while shopping in local markets."\n        ],\n        "restaurants": [\n            {\n                "description": "Famous for its kebabs and biryanis.",\n                "name": "Karim\'s",\n                "location": "Chandni Chowk",\n                "priceRange": "₹500-₹800 for two",\n                "cuisine": "Mughlai"\n            },\n            {\n                "priceRange": "₹300-₹500 for two",\n                "description": "Iconic cafe serving affordable South Indian snacks and coffee.",\n                "cuisine": "Indian",\n                "name": "Indian Coffee House",\n                "location": "Connaught Place"\n            },\n            {\n                "priceRange": "₹300-₹500 for two",\n                "cuisine": "Indian",\n                "description": "Must try chole bhature for a great price.",\n                "name": "Sitaram Diwan Chand",\n                "location": "Paharganj"\n            }\n        ],\n        "events": [\n            "Check local listings for cultural events, music concerts, or festivals happening during your stay."\n        ]\n    },\n    "destinationType": "City",\n    "hotels": [\n        {\n            "hotelName": "Bloomrooms @ New Delhi Railway Station",\n            "geoCoordinates": {\n                "latitude": 28.6519,\n                "longitude": 77.209\n            },\n            "hotelAddress": "8A/53, W.E.A, Saraswati Marg, Karol Bagh, New Delhi, Delhi 110005, India",\n            "imageUrl": "https://bloomrooms.com/wp-content/uploads/2019/07/bloomrooms-New-Delhi-Railway-Station-Deluxe-Room-001.jpg",\n            "description": "Modern budget hotel near New Delhi Railway Station and Karol Bagh market. Offers clean rooms, free Wi-Fi, and breakfast options. Good for solo travelers due to its central location and accessibility.",\n            "price": "₹1,500 per night (including taxes)",\n            "rating": 4.2\n        },\n        {\n            "geoCoordinates": {\n                "longitude": 77.1935,\n                "latitude": 28.5473\n            },\n            "price": "₹800 per night (dorm) / ₹2,000 per night (private room) (including taxes)",\n            "rating": 4.5,\n            "hotelAddress": "1/E-6, Block E, Hauz Khas, New Delhi, Delhi 110016, India",\n            "hotelName": "Zostel Delhi",\n            "description": "Popular hostel chain in Hauz Khas Village. Provides dorms and private rooms, common areas, rooftop cafe, and organizes activities. Ideal for meeting other travelers and exploring Delhi\'s nightlife.",\n            "imageUrl": "https://im.whatshot.in/img/2020/Jul/zostel-delhi-hauz-khas-story-image-1595067348.jpg"\n        },\n        {\n            "imageUrl": "https://pix6.agoda.net/hotelImages/167/167444/167444_17030917290051150798.jpg?ca=6&ce=1&s=1024x768",\n            "geoCoordinates": {\n                "longitude": 77.2226,\n                "latitude": 28.6445\n            },\n            "hotelAddress": "8354/5A, Arakashan Road, Paharganj, New Delhi, Delhi 110055, India",\n            "rating": 3.8,\n            "hotelName": "Hotel City Star",\n            "price": "₹1,200 per night (including taxes)",\n            "description": "Budget-friendly hotel in Paharganj, close to New Delhi Railway Station. Offers basic rooms, room service, and travel assistance. Suitable for budget-conscious travelers looking for a convenient location."\n        }\n    ],\n    "tripTitle": "Solo Adventure in Delhi",\n    "travelType": "Solo Adventure",\n    "currency": "INR",\n    "budget": "Budget-Friendly (₹15,000 total)",\n    "itinerary": {\n        "day1": {\n            "theme": "Old Delhi Exploration",\n            "places": [\n                {\n                    "bestTimeToVisit": "Morning (10:00 AM - 12:00 PM)",\n                    "placeName": "Red Fort (Lal Qila)",\n                    "ticketPricing": "₹80 (Indian citizens), ₹300 (foreign nationals)",\n                    "travelTime": "30-40 minutes from New Delhi Railway Station by metro/auto",\n                    "details": "A historic fort built by Mughal emperor Shah Jahan. Explore its museums, gardens, and Diwan-i-Aam.",\n                    "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/3/38/Red_Fort_Delhi_India_front_view.jpg/800px-Red_Fort_Delhi_India_front_view.jpg",\n                    "coordinates": {\n                        "longitude": 77.241,\n                        "latitude": 28.6562\n                    }\n                },\n                {\n                    "ticketPricing": "Free (₹300 for camera use)",\n                    "travelTime": "5-10 minutes walk from Red Fort",\n                    "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/Jama_Masjid_Delhi_India.jpg/800px-Jama_Masjid_Delhi_India.jpg",\n                    "details": "One of India\'s largest mosques. Climb the minaret for panoramic views of Old Delhi.",\n                    "coordinates": {\n                        "longitude": 77.233,\n                        "latitude": 28.65\n                    },\n                    "placeName": "Jama Masjid",\n                    "bestTimeToVisit": "Afternoon (2:00 PM - 4:00 PM) - avoid prayer times"\n                },\n                {\n                    "details": "A bustling market known for street food, spices, and traditional goods. Try parathe wali gali and jalebi.",\n                    "bestTimeToVisit": "Afternoon (12:00 PM - 6:00 PM) - avoid Mondays (market closed)",\n                    "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/9/9d/Chandni_Chowk_Delhi_India.jpg/800px-Chandni_Chowk_Delhi_India.jpg",\n                    "travelTime": "5-10 minutes walk from Jama Masjid",\n                    "coordinates": {\n                        "longitude": 77.23,\n                        "latitude": 28.6527\n                    },\n                    "ticketPricing": "Free",\n                    "placeName": "Chandni Chowk"\n                }\n            ]\n        },\n        "day3": {\n            "theme": "Spiritual and Serene Delhi",\n            "places": [\n                {\n                    "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Lotus_Temple_at_Dusk_Time.jpg/800px-Lotus_Temple_at_Dusk_Time.jpg",\n                    "ticketPricing": "Free",\n                    "placeName": "Lotus Temple",\n                    "coordinates": {\n                        "longitude": 77.2588,\n                        "latitude": 28.5535\n                    },\n                    "travelTime": "30-40 minutes from Qutub Minar by metro/auto",\n                    "details": "A Baháʼí House of Worship known for its lotus-like shape.",\n                    "bestTimeToVisit": "Morning (9:00 AM - 11:00 AM)"\n                },\n                {\n                    "placeName": "Akshardham Temple",\n                    "details": "A sprawling Hindu temple complex dedicated to Swaminarayan.",\n                    "ticketPricing": "Free (exhibitions have separate charges)",\n                    "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/4/49/Swaminarayan_Akshardham_Delhi.jpg/800px-Swaminarayan_Akshardham_Delhi.jpg",\n                    "bestTimeToVisit": "Afternoon (2:00 PM - 5:00 PM) - allow ample time to explore",\n                    "travelTime": "30-40 minutes from Lotus Temple by metro/auto",\n                    "coordinates": {\n                        "longitude": 77.2773,\n                        "latitude": 28.6127\n                    }\n                }\n            ]\n        },\n        "day5": {\n            "theme": "Shopping and Departure",\n            "places": [\n                {\n                    "bestTimeToVisit": "Afternoon (12:00 PM - 3:00 PM)",\n                    "placeName": "Dilli Haat",\n                    "coordinates": {\n                        "latitude": 28.5715,\n                        "longitude": 77.2173\n                    },\n                    "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/2/24/Dilli_Haat_INA_Delhi_India.jpg/800px-Dilli_Haat_INA_Delhi_India.jpg",\n                    "ticketPricing": "₹30 (entry fee)",\n                    "details": "A craft village showcasing handicrafts, textiles, and food from different Indian states.",\n                    "travelTime": "20-30 minutes from Lodhi Garden by auto/metro"\n                },\n                {\n                    "details": "A commercial hub with shops, restaurants, and colonial architecture.",\n                    "placeName": "Connaught Place (CP)",\n                    "bestTimeToVisit": "Afternoon (3:00 PM - 5:00 PM) - before heading to the airport/railway station",\n                    "ticketPricing": "Free (shopping costs vary)",\n                    "coordinates": {\n                        "latitude": 28.6328,\n                        "longitude": 77.2194\n                    },\n                    "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/4/4e/Connaught_Place_Delhi_India.jpg/800px-Connaught_Place_Delhi_India.jpg",\n                    "travelTime": "15-20 minutes from Dilli Haat by metro/auto"\n                }\n            ]\n        },\n        "day4": {\n            "theme": "Museums and Gardens",\n            "places": [\n                {\n                    "travelTime": "30-40 minutes from Akshardham Temple by metro/auto",\n                    "coordinates": {\n                        "longitude": 77.2195,\n                        "latitude": 28.6119\n                    },\n                    "ticketPricing": "₹20 (Indian citizens), ₹650 (foreign nationals)",\n                    "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/f/f5/National_Museum_New_Delhi_Entrance.jpg/800px-National_Museum_New_Delhi_Entrance.jpg",\n                    "bestTimeToVisit": "Morning (10:00 AM - 1:00 PM)",\n                    "details": "Explore Indian history, art, and culture through various exhibits.",\n                    "placeName": "National Museum"\n                },\n                {\n                    "travelTime": "20-30 minutes from National Museum by auto/metro",\n                    "details": "A historical garden with tombs and monuments from the Lodhi and Sayyid dynasties.",\n                    "placeName": "Lodhi Garden",\n                    "ticketPricing": "Free",\n                    "bestTimeToVisit": "Afternoon (3:00 PM - 5:00 PM)",\n                    "coordinates": {\n                        "latitude": 28.5893,\n                        "longitude": 77.2225\n                    },\n                    "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/4/4a/Lodhi_Garden_Delhi_India.jpg/800px-Lodhi_Garden_Delhi_India.jpg"\n                }\n            ]\n        },\n        "day2": {\n            "places": [\n                {\n                    "ticketPricing": "Free",\n                    "details": "A war memorial arch. Relax in the gardens surrounding the monument.",\n                    "placeName": "India Gate",\n                    "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/5/59/India_Gate_2021.jpg/800px-India_Gate_2021.jpg",\n                    "bestTimeToVisit": "Evening (6:00 PM - 8:00 PM) - illuminated at night",\n                    "coordinates": {\n                        "longitude": 77.2295,\n                        "latitude": 28.6129\n                    },\n                    "travelTime": "30-40 minutes from Chandni Chowk by metro/auto"\n                },\n                {\n                    "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/9/96/Humayun%27s_Tomb_Main_Gate.jpg/800px-Humayun%27s_Tomb_Main_Gate.jpg",\n                    "details": "A precursor to the Taj Mahal, this tomb is an excellent example of Mughal architecture.",\n                    "travelTime": "20-30 minutes from India Gate by auto/metro",\n                    "coordinates": {\n                        "longitude": 77.2507,\n                        "latitude": 28.5931\n                    },\n                    "placeName": "Humayun\'s Tomb",\n                    "bestTimeToVisit": "Afternoon (2:00 PM - 4:00 PM)",\n                    "ticketPricing": "₹40 (Indian citizens), ₹600 (foreign nationals)"\n                },\n                {\n                    "placeName": "Qutub Minar",\n                    "coordinates": {\n                        "longitude": 77.1855,\n                        "latitude": 28.5245\n                    },\n                    "travelTime": "30-40 minutes from Humayun\'s Tomb by metro/auto",\n                    "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/b/bb/Qutb_Minar_Delhi_India.jpg/800px-Qutb_Minar_Delhi_India.jpg",\n                    "details": "A UNESCO World Heritage Site, the tallest minaret in India.",\n                    "bestTimeToVisit": "Afternoon (4:00 PM - 6:00 PM)",\n                    "ticketPricing": "₹40 (Indian citizens), ₹600 (foreign nationals)"\n                }\n            ],\n            "theme": "New Delhi and Historical Landmarks"\n        }\n    },\n    "numberOfPeople": 1,\n    "bestTimeToVisit": "October to March (Pleasant Weather)",\n    "duration": "5 Days"\n}\n"',
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '```json\n{\n  "tripData": {\n    "destinationType": "City",\n    "tripTitle": "Las Vegas Budget Getaway",\n    "travelType": "Couple",\n    "currency": "USD",\n    "budget": "Budget-Friendly ($600 total for couple)",\n    "numberOfPeople": 2,\n    "duration": "3 Days",\n    "bestTimeToVisit": "March-May & September-November (Shoulder Seasons)",\n    "contextualRecommendations": {\n      "activities": [\n        "Walk the Strip and enjoy the free attractions.",\n        "Visit the Bellagio Conservatory & Botanical Garden.",\n        "Catch a free fountain show at the Bellagio or the Mirage volcano show."\n      ],\n      "tips": [\n        "Take advantage of free transportation like the tram between hotels.",\n        "Look for happy hour deals for drinks and appetizers.",\n        "Book show tickets in advance for better prices.",\n        "Consider visiting during the week for lower hotel rates."\n      ],\n      "restaurants": [\n        {\n          "name": "In-N-Out Burger",\n          "location": "Multiple locations",\n          "priceRange": "$10-$15 for two",\n          "cuisine": "American (Burgers)",\n          "description": "A classic and affordable burger chain."\n        },\n        {\n          "name": "Secret Pizza (Cosmopolitan)",\n          "location": "Cosmopolitan Hotel",\n          "priceRange": "$15-$20 for two",\n          "cuisine": "Italian (Pizza)",\n          "description": "Hidden pizza joint with delicious and affordable slices."\n        },\n        {\n          "name": "Tacos El Gordo",\n          "location": "Multiple locations",\n          "priceRange": "$15-$25 for two",\n          "cuisine": "Mexican (Tacos)",\n          "description": "Authentic and flavorful tacos, a great value."\n        }\n      ],\n      "events": [\n        "Check local listings for free concerts, events, and happy hours during your visit."\n      ]\n    },\n    "hotels": [\n      {\n        "hotelName": "Circus Circus Hotel, Casino & Theme Park",\n        "hotelAddress": "2880 S Las Vegas Blvd, Las Vegas, NV 89109",\n        "price": "$30-$60 per night (including taxes)",\n        "imageUrl": "https://media-cdn.tripadvisor.com/media/photo-s/1b/1e/07/e7/circus-circus-hotel-casino.jpg",\n        "geoCoordinates": {\n          "latitude": 36.1346,\n          "longitude": -115.1658\n        },\n        "rating": 3.5,\n        "description": "Budget-friendly option on the Strip with a circus theme, indoor amusement park, and affordable dining options. Basic rooms but good location."\n      },\n      {\n        "hotelName": "Excalibur Hotel & Casino",\n        "hotelAddress": "3850 S Las Vegas Blvd, Las Vegas, NV 89109",\n        "price": "$40-$70 per night (including taxes)",\n        "imageUrl": "https://media-cdn.tripadvisor.com/media/photo-s/1b/1e/04/40/excalibur-hotel-casino.jpg",\n        "geoCoordinates": {\n          "latitude": 36.0947,\n          "longitude": -115.1744\n        },\n        "rating": 3.7,\n        "description": "Medieval-themed hotel on the south end of the Strip. Offers affordable rooms, multiple restaurants, and entertainment options. Easy access to other hotels."\n      },\n      {\n        "hotelName": "Stratosphere Hotel, Casino & Tower",\n        "hotelAddress": "2000 S Las Vegas Blvd, Las Vegas, NV 89104",\n        "price": "$35-$65 per night (including taxes)",\n        "imageUrl": "https://media-cdn.tripadvisor.com/media/photo-s/1b/1e/06/62/the-strat-hotel-casino.jpg",\n        "geoCoordinates": {\n          "latitude": 36.1472,\n          "longitude": -115.1575\n        },\n        "rating": 3.6,\n        "description": "Located off the main Strip, offering great views from the tower, thrill rides, and affordable rooms. Requires transportation to the main attractions."\n      }\n    ],\n    "itinerary": {\n      "day1": {\n        "theme": "Exploring the South Strip & Free Entertainment",\n        "places": [\n          {\n            "placeName": "Welcome to Las Vegas Sign",\n            "placeDetails": "Iconic sign for a photo opportunity.",\n            "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/c/c0/Welcome_to_Las_Vegas_Sign.JPG/1280px-Welcome_to_Las_Vegas_Sign.JPG",\n            "geoCoordinates": {\n              "latitude": 36.0828,\n              "longitude": -115.1731\n            },\n            "ticketPricing": "Free",\n            "rating": 4.5,\n            "travelTime": "Depends on Hotel Location, Taxi/Ride Share is quick",\n            "bestTimeToVisit": "Morning (9:00 AM - 11:00 AM) for fewer crowds"\n          },\n          {\n            "placeName": "Bellagio Conservatory & Botanical Garden",\n            "placeDetails": "Beautiful floral displays that change seasonally.",\n            "placeImageUrl": "https://www.bellagio.com/content/dam/MGM/bellagio/entertainment/conservatory-botanical-garden/bellagio-conservatory-garden-new-years-2024-header.jpg",\n            "geoCoordinates": {\n              "latitude": 36.1126,\n              "longitude": -115.176\n            },\n            "ticketPricing": "Free",\n            "rating": 4.8,\n            "travelTime": "Walking distance from many Strip hotels or via tram.",\n            "bestTimeToVisit": "Afternoon (2:00 PM - 4:00 PM)"\n          },\n          {\n            "placeName": "Bellagio Fountain Show",\n            "placeDetails": "Spectacular water show synchronized to music.",\n            "placeImageUrl": "https://www.visitlasvegas.com/wp-content/uploads/2023/02/fountains-of-bellagio-visit-las-vegas-1440x900.jpg",\n            "geoCoordinates": {\n              "latitude": 36.1126,\n              "longitude": -115.176\n            },\n            "ticketPricing": "Free",\n            "rating": 4.9,\n            "travelTime": "Located in front of the Bellagio.",\n            "bestTimeToVisit": "Evening (7:00 PM - 10:00 PM) for the best viewing experience"\n          }\n        ]\n      },\n      "day2": {\n        "theme": "Mid-Strip Exploration & Volcano Show",\n        "places": [\n          {\n            "placeName": "High Roller Observation Wheel (Optional)",\n            "placeDetails": "Large observation wheel with great views of the city.",\n            "placeImageUrl": "https://handluggageonly.co.uk/wp-content/uploads/2017/03/Hand-Luggage-Only-Las-Vegas-7.jpg",\n            "geoCoordinates": {\n              "latitude": 36.1171,\n              "longitude": -115.1694\n            },\n            "ticketPricing": "$25-$40 per person (consider discounts)",\n            "rating": 4.3,\n            "travelTime": "Located at the LINQ Promenade.",\n            "bestTimeToVisit": "Evening (6:00 PM - 8:00 PM) for sunset views"\n          },\n          {\n            "placeName": "Mirage Volcano Show",\n            "placeDetails": "Volcanic eruption show with fire and special effects.",\n            "placeImageUrl": "https://media-cdn.tripadvisor.com/media/photo-s/03/1a/25/78/the-volcano.jpg",\n            "geoCoordinates": {\n              "latitude": 36.1212,\n              "longitude": -115.1741\n            },\n            "ticketPricing": "Free",\n            "rating": 4.7,\n            "travelTime": "Located in front of the Mirage Hotel.",\n            "bestTimeToVisit": "Evening (8:00 PM - 10:00 PM)"\n          },\n          {\n            "placeName": "Explore the LINQ Promenade",\n            "placeDetails": "Outdoor shopping, dining, and entertainment district.",\n            "placeImageUrl": "https://www.vegasexperience.com/wp-content/uploads/2016/08/TheLINQPromenade-1920x1080.jpg",\n            "geoCoordinates": {\n              "latitude": 36.1168,\n              "longitude": -115.1693\n            },\n            "ticketPricing": "Free (Costs vary for food and attractions)",\n            "rating": 4.2,\n            "travelTime": "Adjacent to the High Roller.",\n            "bestTimeToVisit": "Afternoon/Evening (4:00 PM - 10:00 PM)"\n          }\n        ]\n      },\n      "day3": {\n        "theme": "Downtown Las Vegas & Fremont Street Experience",\n        "places": [\n          {\n            "placeName": "Fremont Street Experience",\n            "placeDetails": "Light and sound show under a canopy of LEDs.",\n            "placeImageUrl": "https://www.vegasexperience.com/wp-content/uploads/2019/07/fremont-street-experience-downtown-las-vegas-1920x1080.jpg",\n            "geoCoordinates": {\n              "latitude": 36.1702,\n              "longitude": -115.1422\n            },\n            "ticketPricing": "Free",\n            "rating": 4.6,\n            "travelTime": "Taxi/Ride Share or Bus from the Strip (approx. 20-30 mins)",\n            "bestTimeToVisit": "Evening (7:00 PM - Midnight) for the light shows"\n          },\n          {\n            "placeName": "Downtown Container Park",\n            "placeDetails": "Unique shopping and dining area made of shipping containers.",\n            "placeImageUrl": "https://downtowncontainerpark.com/wp-content/uploads/2023/05/DCP-web-1.jpg",\n            "geoCoordinates": {\n              "latitude": 36.1689,\n              "longitude": -115.1412\n            },\n            "ticketPricing": "Free (Costs vary for food and shopping)",\n            "rating": 4.4,\n            "travelTime": "Walking distance from Fremont Street.",\n            "bestTimeToVisit": "Afternoon/Evening (4:00 PM - 10:00 PM)"\n          },\n           {\n            "placeName": "Gold and Silver Pawn Shop",\n            "placeDetails": "The famous Pawn Shop where the TV Show is Filmed",\n            "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/9/9a/Gold_%26_Silver_Pawn_Shop%2C_Las_Vegas.jpg/640px-Gold_%26_Silver_Pawn_Shop%2C_Las_Vegas.jpg",\n            "geoCoordinates": {\n              "latitude": 36.1689,\n              "longitude": -115.1412\n            },\n            "ticketPricing": "Free",\n            "rating": 4.4,\n            "travelTime": "Walking distance from Fremont Street",\n            "bestTimeToVisit": "Afternoon/Evening (4:00 PM - 10:00 PM)"\n          }\n        ]\n      }\n    }\n  }\n}\n```',
        },
      ],
    },
  ],
});
